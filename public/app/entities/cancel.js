// Generated by CoffeeScript 1.8.0
(function() {
  define(function(require) {
    var API, App, Loading, Model, loadingView, msgBus;
    App = require('app');
    msgBus = require('msgbus');
    Loading = require('views/spinner');
    loadingView = new Loading();
    Model = Backbone.Model.extend({
      defaults: {
        id: null,
        cancelAll: null,
        message: null
      },
      url: function() {
        return App.APIEndpoint + 'cancel';
      }
    });
    API = {

      /**
       * @name cancelAppointment
       * @function
       * @returns {object} promise object
       */
      cancelAppointment: function(data) {
        var deferred, model;
        model = new Model();
        deferred = $.Deferred();
        App.layout.content.show(loadingView);
        model.save(data, {
          success: deferred.resolve,
          error: deferred.reject
        });
        return deferred.promise();
      }
    };
    return msgBus.reqres.setHandler('entities:cancel:appointment', function(data) {
      return API.cancelAppointment(data);
    });
  });

}).call(this);

//# sourceMappingURL=cancel.js.map
