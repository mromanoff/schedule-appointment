// Generated by CoffeeScript 1.8.0
(function() {
  define(function(require, exports, module) {
    var App, Marionette, template;
    App = require('app');
    Marionette = require('marionette');
    template = require('text!templates/filter/trainer.tpl');
    return module.exports = Marionette.ItemView.extend({
      template: _.template(template),
      events: {
        'change .select-duration': 'selectDuration',
        'change .select-trainer': 'selectTrainer'
      },
      onBeforeRender: function() {
        this.model.set({
          defaultTrainer: App.filterCriteria.get('trainerName')
        });
        return this.model.set({
          defaultDuration: App.filterCriteria.get('duration')
        });
      },
      onRender: function() {
        if (_.isEqual(1, _.size(this.model.get('trainers')))) {
          this.ui.selectTrainer.closest('div').hide();
          return this.ui.selectDuration.closest('div').css({
            'float': 'none',
            'margin': '0 auto'
          });
        }
      },
      ui: {
        selectDuration: 'select.select-duration',
        selectTrainer: 'select.select-trainer'
      },
      selectTrainer: function() {
        this.ui.selectTrainer.prev('.option').text($('option:selected', this.ui.selectTrainer).text());
        return App.filterCriteria.set({
          trainerId: $('option:selected', this.ui.selectTrainer).val()
        });
      },
      selectDuration: function() {
        this.ui.selectDuration.prev('.option').text($('option:selected', this.ui.selectDuration).text());
        return App.filterCriteria.set({
          sessionTypeId: $('option:selected', this.ui.selectDuration).val()
        });
      }
    });
  });

}).call(this);

//# sourceMappingURL=trainer.js.map
